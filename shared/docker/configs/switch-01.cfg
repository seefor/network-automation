! =============================================================================
! switch-01 — Arista cEOS Startup Configuration
! =============================================================================
! Role      : Leaf / access switch
! Mgmt IP   : 172.20.20.11/24  (on Management0, inside lab-net)
! Loopback  : 10.0.0.1/32
! Links     : eth1 -> switch-02  |  eth2 -> switch-03
!
! Static ARP entries on a simulated "server" subnet (10.0.1.0/24) make
! certain IPs appear "live" when the automation agent probes them.
! Deliberately, only a SUBSET of the IPs seeded in NetBox will answer,
! so the agent can discover stale/unused addresses.
! =============================================================================

! --- Hostname ----------------------------------------------------------------
hostname switch-01

! --- Users -------------------------------------------------------------------
username admin privilege 15 role network-admin secret 0 admin

! --- AAA (keep it simple for the lab) ----------------------------------------
aaa authorization exec default local

! --- Management interface ----------------------------------------------------
interface Management0
   description Lab management — lab-net bridge
   ip address 172.20.20.11/24
   no shutdown
!

! --- Loopback ----------------------------------------------------------------
interface Loopback0
   description Router-ID / MGMT loopback
   ip address 10.0.0.1/32
   no shutdown
!

! --- Point-to-point links ----------------------------------------------------
interface Ethernet1
   description Link to switch-02 eth1
   no switchport
   ip address 10.0.12.1/30
   no shutdown
!
interface Ethernet2
   description Link to switch-03 eth2
   no switchport
   ip address 10.0.13.1/30
   no shutdown
!

! --- Static ARP entries (simulate "live" hosts on 10.0.1.0/24) ---------------
! These IPs are also seeded in NetBox.  The agent should find them reachable.
arp 10.0.1.10 0000.0a00.010a arpa
arp 10.0.1.11 0000.0a00.010b arpa
arp 10.0.1.12 0000.0a00.010c arpa

! --- VLAN / SVI for the simulated host subnet --------------------------------
vlan 100
   name SERVERS
!
interface Vlan100
   description Server subnet (simulated)
   ip address 10.0.1.1/24
   no shutdown
!

! --- SSH ---------------------------------------------------------------------
management ssh
   idle-timeout 60
   no shutdown
!

! --- eAPI (HTTP-based management API) ----------------------------------------
management api http-commands
   protocol http
   no shutdown
!

! --- NTP ---------------------------------------------------------------------
ntp server 10.0.0.100

! --- DNS ---------------------------------------------------------------------
ip name-server 10.0.0.53

! --- SNMP --------------------------------------------------------------------
snmp-server community public ro

! --- IP routing (required for inter-VLAN and point-to-point) -----------------
ip routing

! --- Default route via management network ------------------------------------
ip route 0.0.0.0/0 172.20.20.1

! --- End of switch-01 configuration ------------------------------------------
end
