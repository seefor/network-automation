! =============================================================================
! switch-03 — Arista cEOS Startup Configuration
! =============================================================================
! Role      : Leaf / access switch
! Mgmt IP   : 172.20.20.13/24  (on Management0, inside lab-net)
! Loopback  : 10.0.0.3/32
! Links     : eth1 -> switch-02  |  eth2 -> switch-01
!
! Only ONE static ARP entry here — intentionally sparse so the automation
! agent sees a clear contrast when comparing NetBox IPs to live hosts.
! =============================================================================

! --- Hostname ----------------------------------------------------------------
hostname switch-03

! --- Users -------------------------------------------------------------------
username admin privilege 15 role network-admin secret 0 admin

! --- AAA (keep it simple for the lab) ----------------------------------------
aaa authorization exec default local

! --- Management interface ----------------------------------------------------
interface Management0
   description Lab management — lab-net bridge
   ip address 172.20.20.13/24
   no shutdown
!

! --- Loopback ----------------------------------------------------------------
interface Loopback0
   description Router-ID / MGMT loopback
   ip address 10.0.0.3/32
   no shutdown
!

! --- Point-to-point links ----------------------------------------------------
interface Ethernet1
   description Link to switch-02 eth2
   no switchport
   ip address 10.0.23.2/30
   no shutdown
!
interface Ethernet2
   description Link to switch-01 eth2
   no switchport
   ip address 10.0.13.2/30
   no shutdown
!

! --- Static ARP entries (simulate "live" hosts on 10.0.1.0/24) ---------------
! Intentionally sparse — only ONE live IP.  This makes stale-IP discovery
! more interesting for the automation agent.
arp 10.0.1.30 0000.0a00.011e arpa

! --- VLAN / SVI for the simulated host subnet --------------------------------
vlan 100
   name SERVERS
!
interface Vlan100
   description Server subnet (simulated)
   ip address 10.0.1.3/24
   no shutdown
!

! --- SSH ---------------------------------------------------------------------
management ssh
   idle-timeout 60
   no shutdown
!

! --- eAPI (HTTP-based management API) ----------------------------------------
management api http-commands
   protocol http
   no shutdown
!

! --- NTP ---------------------------------------------------------------------
ntp server 10.0.0.100

! --- DNS ---------------------------------------------------------------------
ip name-server 10.0.0.53

! --- SNMP --------------------------------------------------------------------
snmp-server community public ro

! --- IP routing (required for inter-VLAN and point-to-point) -----------------
ip routing

! --- Default route via management network ------------------------------------
ip route 0.0.0.0/0 172.20.20.1

! --- End of switch-03 configuration ------------------------------------------
end
