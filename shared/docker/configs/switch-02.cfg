! =============================================================================
! switch-02 — Arista cEOS Startup Configuration
! =============================================================================
! Role      : Leaf / access switch
! Mgmt IP   : 172.20.20.12/24  (on Management0, inside lab-net)
! Loopback  : 10.0.0.2/32
! Links     : eth1 -> switch-01  |  eth2 -> switch-03
!
! Static ARP entries simulate two "live" hosts in the 10.0.1.0/24 subnet.
! Fewer than switch-01 to provide variety for the automation agent.
! =============================================================================

! --- Hostname ----------------------------------------------------------------
hostname switch-02

! --- Users -------------------------------------------------------------------
username admin privilege 15 role network-admin secret 0 admin

! --- AAA (keep it simple for the lab) ----------------------------------------
aaa authorization exec default local

! --- Management interface ----------------------------------------------------
interface Management0
   description Lab management — lab-net bridge
   ip address 172.20.20.12/24
   no shutdown
!

! --- Loopback ----------------------------------------------------------------
interface Loopback0
   description Router-ID / MGMT loopback
   ip address 10.0.0.2/32
   no shutdown
!

! --- Point-to-point links ----------------------------------------------------
interface Ethernet1
   description Link to switch-01 eth1
   no switchport
   ip address 10.0.12.2/30
   no shutdown
!
interface Ethernet2
   description Link to switch-03 eth1
   no switchport
   ip address 10.0.23.1/30
   no shutdown
!

! --- Static ARP entries (simulate "live" hosts on 10.0.1.0/24) ---------------
! Only two live IPs here — fewer than switch-01.
arp 10.0.1.20 0000.0a00.0114 arpa
arp 10.0.1.21 0000.0a00.0115 arpa

! --- VLAN / SVI for the simulated host subnet --------------------------------
vlan 100
   name SERVERS
!
interface Vlan100
   description Server subnet (simulated)
   ip address 10.0.1.2/24
   no shutdown
!

! --- SSH ---------------------------------------------------------------------
management ssh
   idle-timeout 60
   no shutdown
!

! --- eAPI (HTTP-based management API) ----------------------------------------
management api http-commands
   protocol http
   no shutdown
!

! --- NTP ---------------------------------------------------------------------
ntp server 10.0.0.100

! --- DNS ---------------------------------------------------------------------
ip name-server 10.0.0.53

! --- SNMP --------------------------------------------------------------------
snmp-server community public ro

! --- IP routing (required for inter-VLAN and point-to-point) -----------------
ip routing

! --- Default route via management network ------------------------------------
ip route 0.0.0.0/0 172.20.20.1

! --- End of switch-02 configuration ------------------------------------------
end
